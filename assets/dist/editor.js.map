{"version":3,"file":"editor.js","mappings":"mBAAA,MAAM,EAA+BA,OAAW,GAAW,QCArD,EAA+BA,OAAW,GAAW,QCArD,EAA+BA,OAAW,GAAe,YCAzD,EAA+BA,OAAW,GAAc,WCAxD,EAA+BA,OAAW,GAAS,MCAnD,EAA+BA,OAAW,GAAQ,KCAlD,EAA+BA,OAAwB,gBCOvDC,GAAsCC,EAAAA,EAAAA,6BAA8BC,GAChEC,IACR,GAAoB,cAAfA,EAAMC,KACV,OAAOC,EAAAA,EAAAA,KAACH,EAAS,IAAMC,IAGxB,MAAM,WAAEG,EAAU,cAAEC,GAAkBJ,GAChC,uBAAEK,EAAsB,QAAEC,GAAYH,EAEtCI,GAAkBC,EAAAA,EAAAA,QAA+B,MAOvD,OAAM,IAAMF,GAASG,QAAS,aACtBP,EAAAA,EAAAA,KAACH,EAAS,IAAMC,KAIvBU,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,EACCV,EAAAA,EAAAA,KAACH,EAAS,IAAiBC,GAAZ,SACfE,EAAAA,EAAAA,KAACW,EAAAA,kBAAiB,CAAAD,UACjBF,EAAAA,EAAAA,MAACI,EAAAA,UAAS,CAACC,OAAQC,EAAAA,EAAAA,IAAI,WAAY,iCAAmCJ,SAAA,EACrEV,EAAAA,EAAAA,KAACe,EAAAA,gBAAe,CACfC,OAAQF,EAAAA,EAAAA,IACP,yBACA,iCAEDG,QAAUd,EACVe,SAAWA,KACVhB,EAAe,CACdC,wBAA0BA,GACxB,EAEJgB,yBAAuB,IAGtBhB,IACDK,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,EACCV,EAAAA,EAAAA,KAAA,KAAAU,UACGI,EAAAA,EAAAA,IACD,qDACA,oCAIFd,EAAAA,EAAAA,KAACoB,EAAAA,gBAAe,CACfC,IAAMhB,EACNW,OAAQF,EAAAA,EAAAA,IAAI,eAAgB,iCAC5BQ,qBAAmB,EACnBC,MAAQ,gBACL7B,OAAgB8B,gDAEnBC,UAAQ,EACRP,SAAWA,OACXQ,QA9CaC,KACnBtB,EAAgBuB,SAASC,QACzBxB,EAAgBuB,SAASE,QAAQ,EA6C3BX,yBAAuB,cAM1B,GAGH,wCAEHY,EAAAA,EAAAA,WACC,mBACA,wEACApC,E","sources":["webpack://@wearerequired/iframe-resizer-for-html-block/external window [\"wp\",\"element\"]","webpack://@wearerequired/iframe-resizer-for-html-block/external window [\"wp\",\"compose\"]","webpack://@wearerequired/iframe-resizer-for-html-block/external window [\"wp\",\"blockEditor\"]","webpack://@wearerequired/iframe-resizer-for-html-block/external window [\"wp\",\"components\"]","webpack://@wearerequired/iframe-resizer-for-html-block/external window [\"wp\",\"hooks\"]","webpack://@wearerequired/iframe-resizer-for-html-block/external window [\"wp\",\"i18n\"]","webpack://@wearerequired/iframe-resizer-for-html-block/external window \"ReactJSXRuntime\"","webpack://@wearerequired/iframe-resizer-for-html-block/./assets/src/editor.tsx"],"sourcesContent":["const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"element\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"compose\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"blockEditor\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"components\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"hooks\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"i18n\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"ReactJSXRuntime\"];","import { useRef } from '@wordpress/element';\nimport { createHigherOrderComponent } from '@wordpress/compose';\nimport { InspectorControls } from '@wordpress/block-editor';\nimport { PanelBody, CheckboxControl, TextareaControl } from '@wordpress/components';\nimport { addFilter } from '@wordpress/hooks';\nimport { __ } from '@wordpress/i18n';\n\nconst withIframeResizingInspectorControls = createHigherOrderComponent( ( BlockEdit ) => {\n\treturn ( props ) => {\n\t\tif ( props.name !== 'core/html' ) {\n\t\t\treturn <BlockEdit { ...props } />;\n\t\t}\n\n\t\tconst { attributes, setAttributes } = props;\n\t\tconst { isIframeResizerEnabled, content } = attributes;\n\n\t\tconst codeTextareaRef = useRef< HTMLTextAreaElement >( null );\n\n\t\tconst onCodeFocus = () => {\n\t\t\tcodeTextareaRef.current?.focus();\n\t\t\tcodeTextareaRef.current?.select();\n\t\t};\n\n\t\tif ( -1 === content?.indexOf( '<iframe ' ) ) {\n\t\t\treturn <BlockEdit { ...props } />;\n\t\t}\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<BlockEdit key=\"edit\" { ...props } />\n\t\t\t\t<InspectorControls>\n\t\t\t\t\t<PanelBody title={ __( 'Settings', 'iframe-resizer-for-html-block' ) }>\n\t\t\t\t\t\t<CheckboxControl\n\t\t\t\t\t\t\tlabel={ __(\n\t\t\t\t\t\t\t\t'Enable iframe resizing',\n\t\t\t\t\t\t\t\t'iframe-resizer-for-html-block'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\tchecked={ isIframeResizerEnabled }\n\t\t\t\t\t\t\tonChange={ () => {\n\t\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\t\tisIframeResizerEnabled: ! isIframeResizerEnabled,\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t{ isIframeResizerEnabled && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t\t'Please include the following script in the iframe.',\n\t\t\t\t\t\t\t\t\t\t'iframe-resizer-for-html-block'\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t</p>\n\n\t\t\t\t\t\t\t\t<TextareaControl\n\t\t\t\t\t\t\t\t\tref={ codeTextareaRef }\n\t\t\t\t\t\t\t\t\tlabel={ __( 'Code snippet', 'iframe-resizer-for-html-block' ) }\n\t\t\t\t\t\t\t\t\thideLabelFromVision\n\t\t\t\t\t\t\t\t\tvalue={ `<script src=\"${\n\t\t\t\t\t\t\t\t\t\t( window as any ).iframeResizerChildScriptSrc\n\t\t\t\t\t\t\t\t\t}\" async></script>` }\n\t\t\t\t\t\t\t\t\treadOnly\n\t\t\t\t\t\t\t\t\tonChange={ () => {} }\n\t\t\t\t\t\t\t\t\tonFocus={ onCodeFocus }\n\t\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</PanelBody>\n\t\t\t\t</InspectorControls>\n\t\t\t</>\n\t\t);\n\t};\n}, 'withIframeResizingInspectorControls' );\n\naddFilter(\n\t'editor.BlockEdit',\n\t'iframe-resizer-for-html-block/with-iframe-resizing-inspector-controls',\n\twithIframeResizingInspectorControls\n);\n"],"names":["window","withIframeResizingInspectorControls","createHigherOrderComponent","BlockEdit","props","name","_jsx","attributes","setAttributes","isIframeResizerEnabled","content","codeTextareaRef","useRef","indexOf","_jsxs","_Fragment","children","InspectorControls","PanelBody","title","__","CheckboxControl","label","checked","onChange","__nextHasNoMarginBottom","TextareaControl","ref","hideLabelFromVision","value","iframeResizerChildScriptSrc","readOnly","onFocus","onCodeFocus","current","focus","select","addFilter"],"sourceRoot":""}